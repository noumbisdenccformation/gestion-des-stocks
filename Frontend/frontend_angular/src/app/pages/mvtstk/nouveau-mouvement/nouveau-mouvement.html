<div class="page-container">
  <div class="page-header">
    <h1 class="page-title">{{ getPageTitle() }}</h1>
    <div class="header-actions">
      <button class="btn btn-secondary" (click)="annuler()">
        <i class="fas fa-arrow-left"></i> Retour
      </button>
    </div>
  </div>

  <div class="alert alert-danger" *ngIf="errorMsg">
    {{ errorMsg }}
  </div>

  <div class="form-container">
    <form (ngSubmit)="onSubmit()" #mouvementForm="ngForm">
      <div class="form-row">
        <div class="form-group">
          <label for="dateMvt">Date du mouvement *</label>
          <input 
            type="date" 
            id="dateMvt" 
            name="dateMvt"
            class="form-control"
            [(ngModel)]="mouvement.dateMvt"
            required>
        </div>

        <div class="form-group">
          <label for="typeMvt">Type de mouvement *</label>
          <select 
            id="typeMvt" 
            name="typeMvt"
            class="form-control"
            [(ngModel)]="mouvement.typeMvt"
            required>
            <option value="">Sélectionner un type</option>
            <option *ngFor="let type of typesMouvement" [value]="type.value">
              {{ type.label }}
            </option>
          </select>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="article">Article *</label>
          <input 
            type="text" 
            id="article" 
            name="article"
            class="form-control"
            [(ngModel)]="mouvement.articleId"
            placeholder="Désignation de l'article"
            required>
        </div>

        <div class="form-group">
          <label for="quantite">Quantité *</label>
          <input 
            type="number" 
            id="quantite" 
            name="quantite"
            class="form-control"
            [(ngModel)]="mouvement.quantite"
            min="1"
            required>
        </div>
      </div>

      <div class="form-actions">
        <button type="button" class="btn btn-secondary" (click)="annuler()">
          <i class="fas fa-times"></i> Annuler
        </button>
        <button type="submit" class="btn btn-primary" [disabled]="!mouvementForm.form.valid">
          <i class="fas fa-save"></i> 
          {{ isEditMode ? 'Modifier' : 'Créer' }}
        </button>
      </div>
    </form>
  </div>
</div>
